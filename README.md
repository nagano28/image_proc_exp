# 画像処理の基礎

目次

- [準備](#準備)
- [練習](#練習)
- [課題の進め方](#課題の進め方)
- [1周目：課題](#1周目：課題)
	- [課題1. 画素値と画像の関係](#課題1-画素値と画像の関係)
	- [課題2. 画素位置と画像の関係](#課題2-画素位置と画像の関係)
	- [課題3. 図形の描画](#課題3-図形の描画)
	- [課題4. フィルタ](#課題4-フィルタ)
	- [課題5. ヒストグラムと二値化](#課題5-ヒストグラムと二値化)
	- [課題6. ヒストグラムと色調補正](#課題6-ヒストグラムと色調補正)
- [2周目：課題](#2周目：課題)
	- [課題7. 図形の面積の計算](#課題7-図形の面積の計算)
	- [課題8. 図形の面積の計算](#課題8-図形の面積の計算)


## 準備

実験では，Pythonというプログラミング言語を使用します．実験開始前に，[WinPython.zip](https://drive.google.com/uc?export=download&id=1pZRkxrIvsUgxX2ssmpOkpDhkrpNHU7Kh)からダウンロードし，`右クリック`&rarr;`全てを展開`で展開しなさい．

## 練習

各課題に応じて，ソースコードと画像をダウンロードし，ソースコードを書き換えて実行することになります．以下の手順をよく確認し，何をしているかを理解して，課題へと進みなさい．

1. 以下のソースコードと画像を右クリックメニューの`対象をファイルに保存`で**同じフォルダ内**に**ファイル名は変更せずに**保存しなさい．
<br>　[ソースコード](kadai/hello_world.py)
<br>　[画像](kadai/hello_world.png)

1. [準備](#準備)でダウンロードし，展開したフォルダ内の`IDLEX (Python GUI)`をダブルクリックで起動しなさい．IDLEXはPythonのソースコードを編集・実行するためのソフトです．<img src="img/idle.gif" width="400" alt="" border="1">

1. IDLEの`File`&rarr;`Open`から，手順1でダウンロードしたソースコード`hello_world.py`を開きなさい．表示されたテキストがプログラムのソースコードです．<img src="img/openfile.gif" width="400" alt="" border="1">

1. IDLEの`Run`&rarr;`Run Module`によりプログラムを実行できます．<br>
<img src="img/run.gif" width="400" alt="" border="1">

1. 一方のウィンドウには処理された画像が表示されます．ウィンドウの下側にある保存ボタン（図中の赤丸で囲まれたボタン）を押すと表示されている画像を保存できます．
<br><img src="img/graph.PNG" width="400" alt="" border="1"><br>
もう一方のウィンドウには,プログラム中で*print*関数によって指定された変数の中身が表示されます．このプログラムの場合は，画像の画素値が表示されています．`表示されている文字列を選択`&rarr; `右クリック`&rarr;`Copy`でコピーし，メモ帳などに貼り付けることで保存できます．
<br><img src="img/shell.PNG" width="400" alt="" border="1"><br>

1. 各ウィンドウの右上の☓ボタンでウィンドウを閉じなさい．ウィンドウを閉じないとエラーとなる場合があります．もしエラーが発生したら，全てのウィンドウを閉じて手順2からやりなおしてください．


## 課題の進め方
各課題のソースコードをダウンロードして，ダウンロードしたソースコードを修正し，各課題を行いなさい．ダウンロードは各リンクを右クリックし，`対象をファイルに保存`で**ファイル名は変えずに同じフォルダ内に**保存しなさい．

各課題で作成したプログラム，生成される画像やprint関数によって表示された文字列は必ず保存し，**必要に応じて**レポートに記載しなさい．また，レポートでは**理論（数式やプログラム）と生成される画像の関係をわかりやすく説明・考察しなさい．**

そのために，講義中にレポートでの**説明・考察が可能な十分な結果**を得られるようにしなさい．


## 1周目：課題



### 課題1. 画素値と画像の関係

[ソースコード](kadai/chage_color.py)

1. プログラムをダウンロードして実行し，ソースコードを読んで何をしているかを確認しなさい．

1. 代入する値（元のソースコード内では255）を様々に変化させて色の変化を確認しないさい．
 
1. レポートでは，これらの値と生成される画像との対応を説明しなさい．


### 課題2. 画素位置と画像の関係

[ソースコード](kadai/make_image.py)

1. プログラムをダウンロードして実行し，ソースコードを読んで何をしているかを確認しなさい．

1. 配列のインデックスの数字（元のソースコード内では3と7)を様々に変えて，これらの数字と画像との対応がどのようになっているか確認しなさい．

1. レポートでは，出力された画像を使って，インデックスと画像との対応をわかりやすく説明しなさい．



### 課題3. 図形の描画

[ソースコード](kadai/draw_shape.py)

1. プログラムをダウンロードして実行し，ソースコードを読んで何をしているかを確認しなさい．

1. ソースコード内の指定された箇所を変更して白い四角形が描かれた画像を生成しなさい．

1. レポートでは，作成したプログラムの動作を分かりやすく説明しなさい．


### 課題4. フィルタ

[ソースコード](kadai/filter.py)

[画像](kadai/test.bmp)

1. ソースコードをダウンロードして実行し，ソースコードを読んで何をしているかを確認しなさい．

1. フィルタの値を変更し移動平均フィルタ，ラプラシアンフィルタを実装しなさい．

1.  レポートでは原理（数式・ソースコード）と実行結果（printされる画素値）を照らし合わせて，それらフィルタの処理を分かりやすく説明しなさい．


### 課題5. ヒストグラムと二値化

[ソースコード](kadai/histogram1.py)

[画像](kadai/test2.bmp)

1. ソースコードをダウンロードして実行し，ソースコードを読んで何をしているかを確認しなさい．

1. プログラムを実行すると表示されるヒストグラムを参照して，画像の特徴を表わす二値画像が生成されるようにプログラムを変更しなさい．．

1. レポートでは，作成したプログラムによってどのような処理が行われているのかを説明しなさい．また，その処理の中で使われている値を選択した理由を，ヒストグラムを使って分かりやすく説明しなさい．

### 課題6. ヒストグラムと色調補正

[ソースコード](kadai/histogram2.py)

[画像](kadai/test3.bmp)

1. ソースコードをダウンロードして実行し，ソースコードを読んで何をしているかを確認しなさい．

1. プログラムを実行すると表示されるヒストグラムを参照して，画像の濃淡がよりはっきりする画像を生成しなさい．

1. レポートでは，作成したプログラムによってどのような処理が行われているのかを説明しなさい．また，その処理の中で使われている値や式を選択した理由を，ヒストグラムを使って分かりやすく説明しなさい．


## 2周目：課題

### 課題7. 図形の面積の計算

[ソースコード](kadai/calc_size.py)

[画像](kadai/test4.bmp)

1. ダウンロードしたソースコードを改変し，画像中の6つの面積（画素数）を計算しなさい．

1. レポートでは，作成したプログラムによってどのような処理が行われているのかを分かりやすく説明しなさい．


### 課題8. 図形の面積の計算

[ソースコード](kadai/calc_size.py)

[画像](kadai/test4.bmp)

1. ダウンロードしたソースコードを改変し，画像中の6つの面積を計算しなさい．

1. レポートでは，作成したプログラムによってどのような処理が行われているのかを分かりやすく説明しなさい．
